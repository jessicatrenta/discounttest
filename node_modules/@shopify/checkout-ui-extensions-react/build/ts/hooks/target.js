"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useTarget = void 0;
const api_1 = require("./api");
const subscription_1 = require("./subscription");
class ExtensionHasNoTargetError extends Error {
    constructor(extensionPoint) {
        super(`Cannot call 'useTarget()' on extensionPoint '${extensionPoint}'. Property 'target' is not found on api.`);
        this.name = 'ExtensionHasNoTargetError';
    }
}
/**
 * Returns the cart line this extension is attached to. This is only applicable to the `Checkout::CartLineDetails::RenderAfter` extension point.
 */
function useTarget() {
    const api = (0, api_1.useExtensionApi)();
    if (!api.target) {
        throw new ExtensionHasNoTargetError(api.extensionPoint);
    }
    return (0, subscription_1.useSubscription)(api.target);
}
exports.useTarget = useTarget;
