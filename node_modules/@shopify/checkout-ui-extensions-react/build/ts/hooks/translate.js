"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useTranslate = void 0;
const react_1 = require("react");
const api_1 = require("./api");
/**
 * Returns the `I18nTranslate` interface used to translate strings.
 */
function useTranslate() {
    const { i18n } = (0, api_1.useExtensionApi)();
    const translate = (0, react_1.useCallback)((...args) => {
        const translation = i18n.translate(...args);
        if (!Array.isArray(translation)) {
            return translation;
        }
        return translation.map((part, index) => {
            if ((0, react_1.isValidElement)(part)) {
                return (0, react_1.cloneElement)(part, { key: index });
            }
            return part;
        });
    }, [i18n]);
    return translate;
}
exports.useTranslate = useTranslate;
